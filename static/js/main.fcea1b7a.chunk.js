(this["webpackJsonpsigmoid-assignment"]=this["webpackJsonpsigmoid-assignment"]||[]).push([[0],{17:function(t,e,a){},18:function(t,e,a){},19:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a(1),i=a.n(r),s=a(10),c=a.n(s),o=(a(17),a(2)),h=a(3),l=a(5),d=a(4),u=(a(18),a(11)),p=a(6),j={_id:"dashboard1516252439345",emailId:"candidate@sigmoid.com",orgViewReq:{organization:"DemoTest",view:"Auction"},chartObject:{metadata:{title:"chartobject:1516252439345",img_thumbnail:"../img/chart.png",chartType:"table",dataLimit:50},requestParam:{granularity:"hour",timeZone:{name:"UTC (+00:00)",location:"UTC"},dateRange:{startDate:"1493337600000",endDate:"1493510400000"},xAxis:["D044"],yAxis:["M002"],approxCountDistinct:[],specialCalculation:[],filter:[],orderBy:{metricOrdByList:[{id:"M002",desc:!0}]},percentCalList:[]}}},b={_id:"dashboard1516252235693",emailId:"candidate@sigmoid.com",orgViewReq:{organization:"DemoTest",view:"Auction"},chartObject:{metadata:{title:"chartobject:1516252235693",img_thumbnail:"../img/chart.png",chartType:"table",dataLimit:50},requestParam:{granularity:"hour",timeZone:{name:"UTC (+00:00)",location:"UTC"},dateRange:{startDate:"1493337600000",endDate:"1493510400000"},xAxis:["D017"],yAxis:["M002"],approxCountDistinct:[],specialCalculation:[],filter:[],orderBy:{metricOrdByList:[{id:"M002",desc:!0}]},percentCalList:[]}}},g={_id:"Datastory_ChartId_1535224664111",emailId:"candidate@sigmoid.com",orgViewReq:{organization:"DemoTest",view:"Auction"},chartObject:{metadata:{title:"",img_thumbnail:"images/pie.png",chartType:"pie",dataLimit:500},text:[],requestParam:{granularity:"hour",timeZone:{name:"UTC (+00:00)",location:"UTC"},dateRange:{startDate:"1493424000000",endDate:"1493596800000"},xAxis:["D005"],yAxis:[],approxCountDistinct:[],specialCalculation:["CM001"],filter:[],orderBy:{customMetricOrdByList:[{id:"CM001",desc:!0}]},percentCalList:[{id:"CM001"}]}}};function m(){return Object(n.jsx)("div",{children:Object(n.jsx)("h6",{children:"Loading data please wait..."})})}var O=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={chart1Response:[],startDate:"",endDate:""},t.getData=function(){fetch("https://sigviewauth.sigmoid.io/api/v1/getData",{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":t.props.token},body:JSON.stringify(j)}).then((function(t){return t.json()})).then((function(e){return t.setState({chart1Response:e.result.data})})).catch((function(t){return console.log("fetching chart1 getting error!please check")}))},t.handleChange=function(e){t.setState(Object(p.a)({},e.target.name,e.target.value))},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getData(),this.setState({startDate:this.props.startDate,endDate:this.props.endDate})}},{key:"render",value:function(){var t=this.state.chart1Response;return Object(n.jsx)(n.Fragment,{children:t.length>0?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{style:{textAlign:"center"},children:"Chart1"}),Object(n.jsxs)("table",{className:"table table-hover ",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"#"}),Object(n.jsx)("th",{scope:"col",children:"Publisher Id"}),Object(n.jsx)("th",{scope:"col",children:"Impressions Offered"})]})}),Object(n.jsx)("tbody",{children:t.map((function(t,e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:e+1}),Object(n.jsx)("td",{children:t.publisherId}),Object(n.jsx)("td",{children:t.impressions_offered})]},Math.random())}))})]})]}):Object(n.jsx)(m,{})})}}]),a}(i.a.Component),f=a(7),x=a.n(f),v=a(8),y=a.n(v),D=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={chart1Categories:[],chart1Response:[]},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=[],a=[];fetch("https://sigviewauth.sigmoid.io/api/v1/getData",{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":this.props.token},body:JSON.stringify(b)}).then((function(t){return t.json()})).then((function(t){return t.result.data.map((function(t){e.push(t.appSiteId),a.push(parseInt(t.impressions_offered))})),[e,a]})).then((function(e){return t.setState({chart1Categories:e[0],chart1Response:e[1]})})).catch((function(t){return console.log("fetching chart2 getting error!please check")}))}},{key:"render",value:function(){var t={chart:{type:"bar"},title:{text:"Chart 2"},xAxis:{categories:this.state.chart1Categories,title:{text:null}},series:[{name:"Impressions Offered",data:this.state.chart1Response}]},e=this.state.chart1Categories.length>0?Object(n.jsx)(y.a,{highcharts:x.a,options:t}):Object(n.jsx)(m,{});return Object(n.jsx)(n.Fragment,{children:e})}}]),a}(i.a.Component),C=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={chart1Response:[],hoverData:null},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=[];fetch("https://sigviewauth.sigmoid.io/api/v1/getData",{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":this.props.token},body:JSON.stringify(g)}).then((function(t){return t.json()})).then((function(t){return t.result.data.map((function(t){return e.push({name:t.advertiserId,y:parseInt(t.CM001_percent)})})),e})).then((function(e){return t.setState({chart1Response:e})})).catch((function(t){return console.log("fetching chart3 getting error!please check")}))}},{key:"render",value:function(){var t={chart:{type:"pie"},title:{text:"Chart 3"},series:[{name:"CM001_percent",data:this.state.chart1Response}]},e=this.state.chart1Response.length>0?Object(n.jsx)(y.a,{highcharts:x.a,options:t}):Object(n.jsx)(m,{});return Object(n.jsx)(n.Fragment,{children:e})}}]),a}(i.a.Component),k=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={startDate:"",endDate:"",isDateChanged:!1,changedStartDate:"",changedEndDate:""},t.formatDate=function(t){var e=new Date(parseInt(t));return"".concat(e.getFullYear(),"-0").concat(e.getMonth(),"-0").concat(e.getDate())},t.handleChange=function(e){t.setState(Object(p.a)({},e.target.name,e.target.value))},t.handleClick=function(){var e=t.state,a=e.startDate,n=e.endDate;a&&n&&t.setState({isDateChanged:!0,changedStartDate:a,changedEndDate:n})},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=this;fetch("https://sigviewauth.sigmoid.io/api/v1/getDateRange",{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":this.props.token},body:JSON.stringify({organization:"DemoTest",view:"Auction"})}).then((function(t){return t.json()})).then((function(e){var a=t.formatDate(e.result.startDate),n=t.formatDate(e.result.endDate);t.setState({startDate:a,endDate:n})})).catch((function(t){return console.log("date cannot be fetched. Retry.")}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(n.jsx)("h3",{style:{color:"#FFF",padding:"0px 20px"},children:"Dashboard"})}),Object(n.jsxs)("div",{className:"container-fluid",style:{paddingTop:"20px"},children:[Object(n.jsxs)("div",{className:"input-group mb-1 alignCenter",children:[Object(n.jsx)("label",{htmlFor:"start",children:"Start date:"}),Object(n.jsx)("input",{className:"inputDates",type:"date",id:"start",name:"startDate",value:this.state.startDate,min:this.state.startDate,max:this.state.endDate,onChange:this.handleChange}),"\xa0\xa0",Object(n.jsx)("label",{htmlFor:"start",children:"End date:"}),Object(n.jsx)("input",{className:"inputDates",type:"date",id:"start",name:"endDate",value:this.state.endDate,min:this.state.startDate,max:this.state.endDate,onChange:this.handleChange}),Object(n.jsx)("button",{disabled:!0,type:"button",className:"btn btn-outline-dark btn-sm",style:{borderRadius:"5px"},onClick:this.handleClick,children:"Search"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4 graph1Style",children:Object(n.jsx)(O,Object(u.a)({token:this.props.token},this.state))}),Object(n.jsxs)("div",{className:"col-md-8",children:[Object(n.jsx)(D,{token:this.props.token}),Object(n.jsx)("hr",{}),Object(n.jsx)(C,{token:this.props.token})]})]})]})]})}}]),a}(i.a.Component),w=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).generateToken=function(){fetch("https://sigviewauth.sigmoid.io/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"candidate@sigmoid.com",password:"Sigmoid@123",rememberMe:!0})}).then((function(t){return t.json()})).then((function(e){t.props.setToken(e.token)})).catch((function(t){return console.log("something wnet wrong while getting token")}))},t}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"container-fluid",id:"landingPage",style:{background:"#515e7b"},children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("h1",{style:{textAlign:"center",color:"white"},children:"Welcome to the Dashboard!"}),Object(n.jsx)("div",{className:"alignCenter",children:Object(n.jsxs)("button",{type:"button",className:"btn btn-primary btn-lg btn-block",onClick:this.generateToken,style:{width:"50%"},children:["Get Started\xa0\xa0",Object(n.jsx)("i",{className:"fa fa-arrow-right"})]})})]})})}}]),a}(i.a.Component),T=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={hasError:!1},n}return Object(h.a)(a,[{key:"render",value:function(){return this.state.hasError?Object(n.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}]),a}(i.a.Component),S=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={token:""},t.setToken=function(e){t.setState({token:e})},t}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(T,{children:this.state.token?Object(n.jsx)(k,{token:this.state.token}):Object(n.jsx)(w,{setToken:this.setToken})})})}}]),a}(i.a.Component),N=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,20)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,s=e.getTTFB;a(t),n(t),r(t),i(t),s(t)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root")),N()}},[[19,1,2]]]);
//# sourceMappingURL=main.fcea1b7a.chunk.js.map